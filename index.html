<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">

    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-dark.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">

    <title>Smpp- by serensic-ltd</title>
  </head>

  <body>

    <header>
      <div class="container">
        <h1>Smpp-</h1>
        <h2></h2>

        <section id="downloads">
          <a href="https://github.com/serensic-ltd/smpp-/zipball/master" class="btn">Download as .zip</a>
          <a href="https://github.com/serensic-ltd/smpp-/tarball/master" class="btn">Download as .tar.gz</a>
          <a href="https://github.com/serensic-ltd/smpp-" class="btn btn-github"><span class="icon"></span>View on GitHub</a>
        </section>
      </div>
    </header>

    <div class="container">
      <section id="main_content">
        <h1>
<a id="listed-in-the-below-table-are-webservices-parameters-for-individual-tasks" class="anchor" href="#listed-in-the-below-table-are-webservices-parameters-for-individual-tasks" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Listed in the below table are webservices parameters for individual tasks.</h1>

<p>Name    Description
h   webservices token, configured by user from Preferences menu
u   username
p   password, supplied for op=get_token
op  operation or type of action
format  output format selection
from    SMS sender ID (for op=pv)
to  destination numbers, @username or #groupcode, may use commas</p>

<h2>
<a id="footer----sms-footer-for-oppv" class="anchor" href="#footer----sms-footer-for-oppv" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>footer    SMS footer (for op=pv)</h2>

<p>nofooter    remove SMS footer
msg     message (+ or %20 for spaces, urlencode for non ascii chars)
schedule    schedule message delivery, format: YYYY-MM-DD hh:mm:ss
type    message type (flash or text)
unicode     whether message unicode or not (1=unicode, 0=not unicode)
queue   queue code
src     sender number or ID
dst     destination number (single number)
dt  send SMS date/time
smslog_id   SMS Log ID
last    last SMS log ID (this number not included on result)
c   number of delivery status that will be retrieved
kwd     keyword
login_key   login key sets by admin through webservices call op=loginkeyset</p>

<h2>
<a id="listed-in-the-below-table-are-webservices-parameters-for-admin-tasks" class="anchor" href="#listed-in-the-below-table-are-webservices-parameters-for-admin-tasks" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Listed in the below table are webservices parameters for admin tasks.</h2>

<p>Name    Description
recvnum     receiver number (for op=inject)
smsc    SMSC (for op=inject)
data_*  admin tasks related supplied data</p>

<p>Please note that all values should be URL encoded.
Return Codes</p>

<h2>
<a id="below-table-listed-return-coded-after-unsuccessful-call-to-a-webservices-operation-successful-operation-will-returns-an-ok-data-in-the-response-message" class="anchor" href="#below-table-listed-return-coded-after-unsuccessful-call-to-a-webservices-operation-successful-operation-will-returns-an-ok-data-in-the-response-message" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Below table listed return coded after unsuccessful call to a webservices operation. Successful operation will returns an OK data in the response message.</h2>

<h2>
<a id="please-note-that-by-default-the-response-message-is-a-json-encoded-message" class="anchor" href="#please-note-that-by-default-the-response-message-is-a-json-encoded-message" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Please note that by default the response message is a JSON encoded message.</h2>

<p>Notes:
Error code  Description
ERR 100     authentication failed
ERR 101     type of action is invalid or unknown
ERR 102     one or more field empty
ERR 103     not enough credit for this operation
ERR 104     webservice token is not available
ERR 105     webservice token not enable for this user
ERR 106     webservice token not allowed from this IP address
ERR 200     send message failed
ERR 201     destination number or message is empty
ERR 400     no delivery status available
ERR 401     no delivery status retrieved and SMS still in queue
ERR 402     no delivery status retrieved and SMS has been processed from queue
ERR 501     no data returned or result is empty
ERR 600     admin level authentication failed
ERR 601     inject message failed
ERR 602     sender id or message is empty
ERR 603     account addition failed due to missing data
ERR 604     fail to add account
ERR 605     account removal failed due to unknown username
ERR 606     fail to remove account
ERR 607     set parent failed due to unknown username
ERR 608     fail to set parent
ERR 609     get parent failed due to unknown username
ERR 610     fail to get parent
ERR 611     account ban failed due to unknown username
ERR 612     fail to ban account
ERR 613     account unban failed due to unknown username
ERR 614     fail to unban account
ERR 615     editing account preferences failed due to missing data
ERR 616     fail to edit account preferences
ERR 617     editing account configuration failed due to missing data
ERR 618     fail to edit account configuration
ERR 619     viewing credit failed due to missing data
ERR 620     fail to view credit
ERR 621     adding credit failed due to missing data
ERR 622     fail to add credit
ERR 623     deducting credit failed due to missing data
ERR 624     fail to deduct credit
ERR 625     setting login key failed due to missing data
ERR 626     fail to set login key</p>

<h2>
<a id="there-might-appear-new-error-codes-in-the-future-you-should-be-aware-that-new-codes-might-appear-in-this-syntax" class="anchor" href="#there-might-appear-new-error-codes-in-the-future-you-should-be-aware-that-new-codes-might-appear-in-this-syntax" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>There might appear new error codes in the future, you should be aware that new codes might appear in this syntax:</h2>

<p>Error code  Description
ERR 1xx     authentication or parameter erorrs
ERR 2xx     specific pv errors
ERR 4xx     delivery status errors
ERR 5xx     others
ERR 6xx     administrative tasks
Protocol for non-admin tasks
Send message</p>

<h2>
<a id="send-message-to-a-single-or-multiple-mobile-numbers-username-or-groupcode" class="anchor" href="#send-message-to-a-single-or-multiple-mobile-numbers-username-or-groupcode" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Send message to a single or multiple mobile numbers, @username or #groupcode</h2>

<p>Parameters  Name or description
Operation   pv
Mandatory   u h to msg
Optional    type unicode from footer nofooter format
Returns     return codes
Notes:
Parameter to can be international formatted mobile number, #groupcode or @username, or a mix of them. Separate by commas for multiple value.
Outgoing SMS and delivery status</p>

<p>List outgoing SMS and delivery status.
Parameters  Name or description
Operation   ds
Mandatory   u h
Optional    queue src dst dt smslog_id c last format
Returns     data or return codes</p>

<p>Parameter c will retrieve as many as c value, last will retrieves data from last SMS log ID.
Incoming SMS</p>

<p>List incoming SMS.
Parameters  Name or description
Operation   in
Mandatory   u h
Optional    queue src dst dt smslog_id c last format
Returns     data or return codes</p>

<p>Parameter c will retrieve as many as c value, last will retrieves data from last SMS log ID.
Inbox</p>

<p>List SMS on user's inbox.
Parameters  Name or description
Operation   ix
Mandatory   u h
Optional    queue src dst dt smslog_id c last format
Returns     data or return codes</p>

<p>Parameter c will retrieve as many as c value, last will retrieves data from last SMS log ID.
Sandbox</p>

<p>List unhandled incoming SMS.
Parameters  Name or description
Operation   sx
Mandatory   u h
Optional    queue src dst dt smslog_id c last format
Returns     data or return codes</p>

<p>Parameter c will retrieve as many as c value, last will retrieves data from last SMS log ID.
User credit</p>

<p>Get user's credit information.
Parameters  Name or description
Operation   cr
Mandatory   u h
Optional    format
Returns     user's credit or return codes
Get token</p>

<h2>
<a id="get-users-webservices-token-this-can-be-used-as-a-login-mechanism" class="anchor" href="#get-users-webservices-token-this-can-be-used-as-a-login-mechanism" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Get user's webservices token. This can be used as a login mechanism.</h2>

<p>Parameters  Name or description
Operation   get_token
Mandatory   u p
Optional    format
Returns     webservices token or return codes
Set token</p>

<h2>
<a id="set-users-webservices-token-this-can-be-used-as-a-change-password-mechanism" class="anchor" href="#set-users-webservices-token-this-can-be-used-as-a-change-password-mechanism" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Set user's webservices token. This can be used as a change password mechanism.</h2>

<p>Parameters  Name or description
Operation   set_token
Mandatory   u h
Optional    format
Returns     new webservices token or return codes
Get contact list</p>

<h2>
<a id="get-contact-list-by-name-mobile-or-email" class="anchor" href="#get-contact-list-by-name-mobile-or-email" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Get contact list by name, mobile or email</h2>

<p>Parameters  Name or description
Operation   get_contact
Mandatory   u h kwd
Optional    c format
Returns     list of contacts similar or the same as kwd or return codes
Get group contact list</p>

<h2>
<a id="get-group-contact-list-by-name-or-code" class="anchor" href="#get-group-contact-list-by-name-or-code" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Get group contact list by name or code</h2>

<p>Parameters  Name or description
Operation   get_contact_group
Mandatory   u h kwd
Optional    c format
Returns     list of contact groups similar or the same as kwd or return codes
Webservices login</p>

<h2>
<a id="authenticate-user-via-webservices-and-redirect-to-indexphp-upon-authentication-successful-or-failed-or-invalid" class="anchor" href="#authenticate-user-via-webservices-and-redirect-to-indexphp-upon-authentication-successful-or-failed-or-invalid" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Authenticate user via webservices and redirect to index.php upon authentication, successful or failed or invalid.</h2>

<p>Parameters  Name or description
Operation   ws_login
Mandatory   u login_key
Optional    none
Returns     none, web redirect to index.php</p>

<h2>
<a id="parameter-login_key-is-set-by-admin-accounts-through-webservices-call-using-operation-loginkeyset" class="anchor" href="#parameter-login_key-is-set-by-admin-accounts-through-webservices-call-using-operation-loginkeyset" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Parameter login_key is set by admin accounts through webservices call using operation loginkeyset</h2>

<p>Protocol for admin tasks
Inject message</p>

<h2>
<a id="inject-message-to-the-system" class="anchor" href="#inject-message-to-the-system" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Inject message to the system</h2>

<p>Parameters  Name or description
Operation   inject
Mandatory   u h from msg recvnum smsc
Optional    format
Returns     return codes</p>

<p>Injected message will be treated as a valid incoming SMS.
Add account</p>

<h2>
<a id="add-an-account" class="anchor" href="#add-an-account" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Add an account</h2>

<p>Parameters  Name or description
Operation   accountadd
Mandatory   u h data_status data_username data_password data_name data_email
Optional    format data_parent data_mobile data_datetime_timezone data_language_module
Returns     return codes and info</p>

<h2>
<a id="notes" class="anchor" href="#notes" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Notes:</h2>

<pre><code>most mandatory and optional query parameters are prefixed with data_
data_status 2 is for admin level account
data_status 3 is for user level account
data_status 4 is for subuser level account
data_parent may need to be set when adding subuser level account
</code></pre>

<p>Remove account
Notes:
Remove an account
Parameters  Name or description
Operation   accountremove
Mandatory   u h data_username
Optional    format
Returns     return codes and info
Set parent for subuser
Notes:
Set parent for subuser level account
Parameters  Name or description
Operation   parentset
Mandatory   u h data_username data_parent
Optional    format
Returns     return codes
Get parent from subuser
Notes:
Get parent from subuser level account
Parameters  Name or description
Operation   parentget
Mandatory   u h data_username
Optional    format
Returns     return codes and data parent
Ban an account</p>

<p>Ban an account
Parameters  Name or description
Operation   accountban
Mandatory   u h data_username
Optional    format
Returns     return codes
Unban an account</p>

<p>Unban an account
Parameters  Name or description
Operation   accountunban
Mandatory   u h data_username
Optional    format
Returns     return codes
Update account preferences</p>

<p>Update account preferences
Parameters  Name or description
Operation   accountpref
Mandatory   u h data_username
Optional    format data_name data_email data_mobile data_address data_city data_state data_country data_zipcode data_password
Returns     return codes and info</p>

<p>Notes:</p>

<pre><code>most mandatory and optional query parameters are prefixed with data_
this command may be used to update account's password
</code></pre>

<p>Update account configuration</p>

<p>Update account configuration
Parameters  Name or description
Operation   accountconf
Mandatory   u h data_username
Optional    format data_footer datetime_timezone data_language_module data_fwd_to_inbox data_fwd_to_email data_fwd_to_mobile data_local_length data_replace_zero data_sender
Returns     return codes and info</p>

<p>Notes:</p>

<pre><code>most mandatory and optional query parameters are prefixed with data_
this command may be used to update account's default sender ID
only valid sender ID may be selected
data_fwd_to_inbox data_fwd_to_email data_fwd_to_mobile are boolean variables, fill with 0 to disable and 1 to enable
data_local_length used to detect local destination number by its length
data_replace_zero is a numeric only prefix number to replace prefix 0
</code></pre>

<p>View account credit</p>

<p>View an account credit or balance
Parameters  Name or description
Operation   creditview
Mandatory   u h data_username
Optional    format
Returns     return codes and balance
Add account credit</p>

<p>Add credit to an account
Parameters  Name or description
Operation   creditadd
Mandatory   u h data_username data_amount
Optional    format
Returns     return codes, updated balance and amount
Deduct account credit</p>

<p>Deduct credit to an account
Parameters  Name or description
Operation   creditdeduct
Mandatory   u h data_username data_amount
Optional    format
Returns     return codes, updated balance and amount
Set login key</p>

<p>Set login key for an account
Parameters  Name or description
Operation   loginkeyset
Mandatory   u h data_username
Optional    format
Returns     return codes and login key
Examples
Send SMS</p>

<p>Example webservice URL:</p>

<p>http://ip/index.php?app=ws&amp;u=mark&amp;h=a45a02791b2fe2fedb078c39fd83637a&amp;op=pv&amp;to=0987654321&amp;msg=test+only</p>

<p>Explanation:</p>

<p>webservices in x.dom with operation op pv (send SMS) was accessed by a user using username u and webservices token h with destination number to 255000000, message msg 'test only' and expected output format is the default format, JSON format.</p>

<p>When succeeded  will returns OK status message in JSON format:</p>

<p>{"data":[{"status":"OK","error":"0","smslog_id":"30","queue":"afb5f34575e30ec4efe4471cf5d1bee4","to":"25500000"}],"error_string":null}</p>

<p>When error occurred will returns one of the return code, also in JSON format.
List of incoming SMS</p>

<p>Example webservice URL:</p>

<p><a href="http://x.com/index.php?app=ws&amp;u=anton&amp;h=482ac0069592c647289e52dfef88be68&amp;op=in&amp;kwd=IDOL&amp;format=xml">http://x.com/index.php?app=ws&amp;u=anton&amp;h=482ac0069592c647289e52dfef88be68&amp;op=in&amp;kwd=IDOL&amp;format=xml</a></p>

<p>Explanation:</p>

<p>Serensic webservices in dev.serensic.com with operation op in (incoming SMS) was accessed by a user using username u and webservices token h with keyword kwd IDOL and expected output format is in XML format format=xml.</p>

<p>When succeeded will returns OK status message in XML format:</p>

<p>
    
        
            2
            +255000000
            1234
            IDOL
            A
            <dt>2016-09-20 12:40:38</dt>
            1
        
    
</p>

<p>When error occurred  will returns one of the return code, also in XML format.
List of contacts on phonebook</p>

<p>Example webservice URL:</p>

<p>http://ip/index.php?app=ws&amp;u=mark&amp;h=482ac0069592c647289e52dfef88be68&amp;op=get_contact&amp;kwd=mark</p>

<p>Explanation:</p>

<p>Serensic webservices in x.com with operation op get_contact was accessed by a user using username u and webservices token h with keyword kwd serensic and expected output format is in JSON format.</p>

<p>When succeeded  will returns OK status message in JSON format:</p>

<p>{"status":"OK","error":"0","data":[{"pid":"13674","gpid":"2","p_desc":"Mark Francis","p_num":"255000000","email":"","group_name":"Test Group","code":"TESTGROUP"}],"multi":true}</p>

<p>When error occurred serensic will returns one of the return code, also in JSON format.</p>
      </section>
    </div>

    
  </body>
</html>
